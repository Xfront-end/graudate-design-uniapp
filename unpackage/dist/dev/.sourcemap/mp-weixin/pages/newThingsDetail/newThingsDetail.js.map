{"version":3,"sources":["webpack:///C:/Users/zht/Documents/HBuilderProjects/schoolService/main.js","webpack:///C:/Users/zht/Documents/HBuilderProjects/schoolService/pages/newThingsDetail/newThingsDetail.vue?8f66","webpack:///C:/Users/zht/Documents/HBuilderProjects/schoolService/pages/newThingsDetail/newThingsDetail.vue?54ec","webpack:///C:/Users/zht/Documents/HBuilderProjects/schoolService/pages/newThingsDetail/newThingsDetail.vue?ad5f","webpack:///C:/Users/zht/Documents/HBuilderProjects/schoolService/pages/newThingsDetail/newThingsDetail.vue?94ed","webpack:///C:/Users/zht/Documents/HBuilderProjects/schoolService/pages/newThingsDetail/newThingsDetail.vue","webpack:///C:/Users/zht/Documents/HBuilderProjects/schoolService/pages/newThingsDetail/newThingsDetail.vue?4f9e","webpack:///C:/Users/zht/Documents/HBuilderProjects/schoolService/pages/newThingsDetail/newThingsDetail.vue?759c"],"names":["createPage","Page","newThingsComment","wx","cloud","database","collection","IMAGE_MAX","db","newThings","reply","components","thingsCard","thingsControl","spliteLine","bottomModal","commentList","data","isLogin","newThingsDetail","isShowModal","isOperateImagesShow","commentAblum","currentImages","commentContent","isShowLoginModal","lock","isShowReply","replyContent","newThingsCommentId","commentCardIndex","keyBroadHeight","methods","onBottomModalclosed","onReplyShow","addImages","uni","chooseImage","count","length","sizeType","sourceType","success","res","push","tempFilePaths","console","log","changeHeight","event","detail","height","resetKeyboradHeight","operateImages","deleteCommentImages","splice","cancel","previewCommentImages","previewImage","current","urls","release","userInfo","trim","showToast","icon","title","showLoading","mask","newThingsId","_id","commentInfo","nickName","avatarUrl","createdTime","serverDate","favNum","add","then","hideLoading","$refs","getComment","clickFakeInput","showModal","cancelText","confirmText","content","confirm","navigateTo","url","onReply","upLoad","replyInfo","notify","callFunction","name","$url","docid","num","onLoad","options","newThingsDoc","doc","get","onShow","$store","getters","computed","hasCommentImagesHeight"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;;AAEnB;AACA,0H;AACAA,UAAU,CAACC,wBAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwI;AACxI;AACmE;AACL;AACqC;;;AAGnG;AAC8M;AAC9M,gBAAgB,qNAAU;AAC1B,EAAE,qFAAM;AACR,EAAE,sGAAM;AACR,EAAE,+GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,0GAAU;AACZ;AACA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;AC1Cf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAm0B,CAAgB,i0BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACmGv1B,uE,iuGAHA;AACA;AACA,IAAMC,gBAAgB,GAAGC,EAAE,CAACC,KAAH,CAASC,QAAT,GAAoBC,UAApB,CAA+B,kBAA/B,CAAzB,CAGA,IAAMC,SAAS,GAAG,CAAlB;AACA,IAAMC,EAAE,GAAGL,EAAE,CAACC,KAAH,CAASC,QAAT,EAAX;AACA,IAAMI,SAAS,GAAGD,EAAE,CAACF,UAAH,CAAc,WAAd,CAAlB;AACA,IAAMI,MAAK,GAAGF,EAAE,CAACF,UAAH,CAAc,OAAd,CAAd,C;AACe;AACdK,YAAU,EAAE;AACXC,cAAU,EAAVA,UADW;AAEXC,iBAAa,EAAbA,aAFW;AAGXC,cAAU,EAAVA,UAHW;AAIXC,eAAW,EAAXA,WAJW;AAKXC,eAAW,EAAXA,WALW,EADE;;AAQdC,MARc,kBAQP;AACN,WAAO;AACNC,aAAO,EAAE,KADH;AAENC,qBAAe,EAAE,EAFX;AAGNC,iBAAW,EAAE,KAHP;AAINC,yBAAmB,EAAE,KAJf;AAKNC,kBAAY,EAAE,EALR;AAMNC,mBAAa,EAAE,CANT;AAONC,oBAAc,EAAE,EAPV;AAQNC,sBAAgB,EAAE,KARZ;AASNC,UAAI,EAAE,IATA,EASM;AACZC,iBAAW,EAAE,KAVP;AAWNC,kBAAY,EAAE,EAXR;AAYNC,wBAAkB,EAAE,EAZd;AAaNC,sBAAgB,EAAE,CAbZ;AAcNC,oBAAc,EAAE,CAdV,EAAP;;AAgBA,GAzBa;AA0BdC,SAAO,EAAE;AACRC,uBADQ,iCACc;AACrB,WAAKb,WAAL,GAAmB,KAAnB;AACA,KAHO;AAIRc,eAJQ,yBAIM;AACb,WAAKP,WAAL,GAAmB,KAAnB;AACA,KANO;AAORQ,aAPQ,uBAOI;AACXC,SAAG,CAACC,WAAJ,CAAgB;AACfC,aAAK,EAAE/B,SAAS,GAAG,KAAKe,YAAL,CAAkBiB,MADtB;AAEfC,gBAAQ,EAAE,CAAC,aAAD,CAFK;AAGfC,kBAAU,EAAE,CAAC,OAAD,EAAU,QAAV,CAHG;AAIfC,eAAO,EAAE,iBAACC,GAAD,EAAS;AACjB,qCAAI,CAACrB,YAAL,EAAkBsB,IAAlB,8CAA0BD,GAAG,CAACE,aAA9B;AACAC,iBAAO,CAACC,GAAR,CAAY,KAAI,CAACzB,YAAjB;AACA,SAPc,EAAhB;;AASA,KAjBO;AAkBR0B,gBAlBQ,wBAkBKC,KAlBL,EAkBY;AACnB,WAAKlB,cAAL,GAAsBkB,KAAK,CAACC,MAAN,CAAaC,MAAnC;AACA,KApBO;AAqBRC,uBArBQ,iCAqBc;AACrB,WAAKrB,cAAL,GAAsB,CAAtB;AACA,KAvBO;AAwBRsB,iBAxBQ,yBAwBM9B,aAxBN,EAwBqB;AAC5B,WAAKA,aAAL,GAAqBA,aAArB;AACA,WAAKF,mBAAL,GAA2B,IAA3B;AACA,KA3BO;AA4BRiC,uBA5BQ,iCA4Bc;AACrB,WAAKhC,YAAL,CAAkBiC,MAAlB,CAAyB,KAAKhC,aAA9B,EAA6C,CAA7C;AACA,WAAKiC,MAAL;AACA,KA/BO;AAgCRC,wBAhCQ,kCAgCe;AACtBrB,SAAG,CAACsB,YAAJ,CAAiB;AAChBC,eAAO,EAAE,KAAKpC,aADE;AAEhBqC,YAAI,EAAE,KAAKtC,YAFK,EAAjB;;AAIA,WAAKkC,MAAL;AACA,KAtCO;AAuCRA,UAvCQ,oBAuCC;AACR,WAAKnC,mBAAL,GAA2B,KAA3B;AACA,KAzCO;AA0CFwC,WA1CE;AA2CJ,qBAAKnC,IA3CD;AA4CN,qBAAKA,IAAL,GAAY,KAAZ,CA5CM;AA6Ce,4CA7Cf,SA6CFoC,QA7CE;AA8CAtC,8BA9CA,GA8CiB,KAAKA,cAAL,CAAoBuC,IAApB,EA9CjB;AA+CHvC,8BAAc,KAAK,EA/ChB;AAgDLY,mBAAG,CAAC4B,SAAJ,CAAc;AACbC,sBAAI,EAAE,MADO;AAEbC,uBAAK,EAAE,UAFM,EAAd,EAhDK;;;;AAsDN9B,mBAAG,CAAC+B,WAAJ,CAAgB;AACfD,uBAAK,EAAE,KADQ;AAEfE,sBAAI,EAAE,IAFS,EAAhB;;AAII9C,4BA1DE,GA0Da,EA1Db;AA2DH,qBAAKA,YAAL,CAAkBiB,MAAlB,GAA2B,CA3DxB;AA4DgB,iDAAkB,YAAlB,EAAgC,KAAKjB,YAArC,CA5DhB,UA4DLA,YA5DK;;AA8DA+C,2BA9DA,GA8Dc,KAAKlD,eAAL,CAAqBmD,GA9DnC;AA+DAC,2BA/DA,GA+Dc;AACnBC,0BAAQ,EAAEV,QAAQ,CAACU,QADA;AAEnBC,2BAAS,EAAEX,QAAQ,CAACW,SAFD;AAGnBnD,8BAAY,EAAZA,YAHmB;AAInBE,gCAAc,EAAdA,cAJmB;AAKnB6C,6BAAW,EAAXA,WALmB;AAMnBK,6BAAW,EAAElE,EAAE,CAACmE,UAAH,EANM;AAOnBC,wBAAM,EAAE,CAPW;AAQnBlE,uBAAK,EAAE,CARY,EA/Dd;;AAyENR,gCAAgB,CAAC2E,GAAjB,CAAqB;AACpB5D,sBAAI;AACAsD,6BADA,CADgB,EAArB;;AAIGO,oBAJH,CAIQ,UAAAnC,GAAG,EAAG;AACbP,qBAAG,CAAC2C,WAAJ;AACA,wBAAI,CAAC3D,WAAL,GAAmB,KAAnB;AACA,wBAAI,CAACE,YAAL,GAAoB,EAApB;AACA,wBAAI,CAACE,cAAL,GAAsB,EAAtB;AACA,wBAAI,CAACE,IAAL,GAAY,IAAZ;AACA,wBAAI,CAACsD,KAAL,CAAWhE,WAAX,CAAuBiE,UAAvB;AACA7C,qBAAG,CAAC4B,SAAJ,CAAc;AACbC,wBAAI,EAAE,MADO;AAEbC,yBAAK,EAAE,MAFM,EAAd;;AAIA,iBAfD,EAzEM;;;AA2FRgB,kBA3FQ,4BA2FS;AAChB,UAAG,KAAKhE,OAAR,EAAgB;AACf,aAAKE,WAAL,GAAmB,CAAC,KAAKA,WAAzB;AACA;AACA;AACDgB,SAAG,CAAC+C,SAAJ,CAAc;AACbC,kBAAU,EAAE,IADC;AAEbC,mBAAW,EAAE,KAFA;AAGbnB,aAAK,EAAE,YAHM;AAIboB,eAAO,EAAE,UAJI;AAKb5C,eALa,mBAKLC,GALK,EAKA;AACZ,cAAGA,GAAG,CAAC4C,OAAP,EAAgB;AACfnD,eAAG,CAACoD,UAAJ,CAAe;AACdC,iBAAG,EAAE,sBADS,EAAf;;AAGA;AACD,SAXY,EAAd;;AAaA,KA7GO;AA8GRC,WA9GQ,mBA8GAC,MA9GA,EA8GQ;AACf,WAAK9D,kBAAL,GAA0B8D,MAAM,CAACA,MAAjC;AACA,WAAK7D,gBAAL,GAAwB6D,MAAM,CAAC7D,gBAA/B;AACA,WAAKH,WAAL,GAAmB,IAAnB;AACA,KAlHO;AAmHFjB,SAnHE;AAoHPoC,uBAAO,CAACC,GAAR,CAAY,KAAKjB,gBAAjB,EApHO;AAqHJ,qBAAKZ,OArHD;AAsHe,4CAtHf,SAsHF4C,QAtHE;AAuHAlC,4BAvHA,GAuHe,KAAKA,YAAL,CAAkBmC,IAAlB,EAvHf;AAwHHnC,4BAAY,KAAK,EAxHd;AAyHLQ,mBAAG,CAAC4B,SAAJ,CAAc;AACbC,sBAAI,EAAE,MADO;AAEbC,uBAAK,EAAE,UAFM,EAAd,EAzHK;;;;AA+HN9B,mBAAG,CAAC+B,WAAJ,CAAgB;AACfD,uBAAK,EAAE,KADQ;AAEfE,sBAAI,EAAE,IAFS,EAAhB;;AAIMvC,kCAnIA,GAmIqB,KAAKA,kBAnI1B;AAoIA+D,yBApIA,GAoIY;AACjBpB,0BAAQ,EAAEV,QAAQ,CAACU,QADF;AAEjBC,2BAAS,EAAEX,QAAQ,CAACW,SAFH;AAGjB7C,8BAAY,EAAZA,YAHiB;AAIjBC,oCAAkB,EAAlBA,kBAJiB;AAKjB6C,6BAAW,EAAElE,EAAE,CAACmE,UAAH,EALI,EApIZ;;AA2INjE,sBAAK,CAACmE,GAAN,CAAU;AACT5D,sBAAI;AACA2E,2BADA,CADK,EAAV;;AAIGd,oBAJH,CAIQ,UAAAnC,GAAG,EAAG;AACb,wBAAI,CAACqC,KAAL,CAAWhE,WAAX,CAAuB6E,MAAvB,CAA8B,MAAI,CAAC/D,gBAAnC;AACAM,qBAAG,CAAC2C,WAAJ;AACA,wBAAI,CAACnD,YAAL,GAAoB,EAApB;AACA,wBAAI,CAACD,WAAL,GAAmB,KAAnB;AACA,wBAAI,CAACD,IAAL,GAAY,IAAZ;AACAoB,yBAAO,CAACC,GAAR,CAAYlB,kBAAZ;AACA1B,oBAAE,CAACC,KAAH,CAAS0F,YAAT,CAAsB;AACrBC,wBAAI,EAAE,WADe;AAErB9E,wBAAI,EAAE;AACL+E,0BAAI,EAAE,gBADD;AAELC,2BAAK,EAAEpE,kBAFF;AAGLqE,yBAAG,EAAE,CAHA,EAFe,EAAtB;;AAOGpB,sBAPH,CAOQ,UAAAnC,GAAG,UAAEG,OAAO,CAACC,GAAR,CAAYJ,GAAZ,CAAF,EAPX;AAQAP,qBAAG,CAAC4B,SAAJ,CAAc;AACbC,wBAAI,EAAE,MADO;AAEbC,yBAAK,EAAE,MAFM,EAAd;;AAIA,iBAvBD,EA3IM;AAmKA;AACN9B,mBAAG,CAAC+C,SAAJ,CAAc;AACbC,4BAAU,EAAE,IADC;AAEbC,6BAAW,EAAE,KAFA;AAGbnB,uBAAK,EAAE,YAHM;AAIboB,yBAAO,EAAE,UAJI;AAKb5C,yBALa,mBAKLC,GALK,EAKA;AACZ,wBAAGA,GAAG,CAAC4C,OAAP,EAAgB;AACfnD,yBAAG,CAACoD,UAAJ,CAAe;AACdC,2BAAG,EAAE,sBADS,EAAf;;AAGA;AACD,mBAXY,EAAd,EApKM,+IA1BK;;;;;AA8MRU,QA9MQ,yGA8MDC,OA9MC;AA+MPC,0BA/MO,GA+MQD,OAAO,CAACC,YA/MhB;AAgNb5F,uBAAS,CAAC6F,GAAV,CAAcD,YAAd,EAA4BE,GAA5B,GAAkCzB,IAAlC,CAAuC,UAAAnC,GAAG,EAAI;AAC7C,sBAAI,CAACxB,eAAL,GAAuBwB,GAAG,CAAC1B,IAA3B;AACA,eAFD,EAhNa;;AAoNduF,QApNc,oBAoNL;AACR,SAAKtF,OAAL,GAAe,KAAKuF,MAAL,CAAYC,OAAZ,CAAoBxF,OAAnC;AACA,SAAKQ,IAAL,GAAY,IAAZ;AACA;AACA,GAxNa;AAyNdiF,UAAQ,EAAE;AACTC,0BADS,oCACgB;AACxB,aAAO,KAAKtF,YAAL,CAAkBiB,MAAlB,KAA6B,CAA7B,GAAiC,GAAjC,GAAuC,GAA9C;AACA,KAHQ,EAzNI,E;;;;;;;;;;;;;ACzGf;AAAA;AAAA;AAAA;AAAisC,CAAgB,2pCAAG,EAAC,C;;;;;;;;;;;ACArtC,uC","file":"pages/newThingsDetail/newThingsDetail.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/newThingsDetail/newThingsDetail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./newThingsDetail.vue?vue&type=template&id=40bc8287&scoped=true&\"\nvar renderjs\nimport script from \"./newThingsDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./newThingsDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./newThingsDetail.vue?vue&type=style&index=0&id=40bc8287&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Downloads/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"40bc8287\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\zht\\\\Downloads\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('40bc8287')) {\n      api.createRecord('40bc8287', component.options)\n    } else {\n      api.reload('40bc8287', component.options)\n    }\n    module.hot.accept(\"./newThingsDetail.vue?vue&type=template&id=40bc8287&scoped=true&\", function () {\n      api.rerender('40bc8287', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Documents/HBuilderProjects/schoolService/pages/newThingsDetail/newThingsDetail.vue\"\nexport default component.exports","export * from \"-!../../../../../Downloads/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Downloads/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../Downloads/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Downloads/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Downloads/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./newThingsDetail.vue?vue&type=template&id=40bc8287&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Downloads/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Downloads/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./newThingsDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Downloads/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./newThingsDetail.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n//引入全局公用组件\nimport thingsCard from '../../components/newThingsCard/newThingsCard.vue'\nimport thingsControl from '../../components/thingsControl/things-control.vue'\nimport spliteLine from '../../components/spliteLine/splite-line.vue'\nimport bottomModal from '../../components/bottomModal/bottom-modal.vue'\nimport commentList from '../../components/commentList/commentList.vue'\n//引入页面私有组件\n//测试代码需要删除\nconst newThingsComment = wx.cloud.database().collection('newThingsComment')\nimport {write2cloudStroge, getUserInfo, getUserInfoFromCloud, isIdentified} \nfrom '../../common/js/common.js'\nconst IMAGE_MAX = 9\nconst db = wx.cloud.database()\nconst newThings = db.collection('newThings')\nconst reply = db.collection('reply')\nexport default {\n\tcomponents: {\n\t\tthingsCard,\n\t\tthingsControl,\n\t\tspliteLine,\n\t\tbottomModal,\n\t\tcommentList\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tisLogin: false, \n\t\t\tnewThingsDetail: {},\n\t\t\tisShowModal: false,\n\t\t\tisOperateImagesShow: false,\n\t\t\tcommentAblum: [],\n\t\t\tcurrentImages: 0,\n\t\t\tcommentContent: '',\n\t\t\tisShowLoginModal: false,\n\t\t\tlock: true, //防止多次点击发表的锁\n\t\t\tisShowReply: false,\n\t\t\treplyContent: '',\n\t\t\tnewThingsCommentId: '',\n\t\t\tcommentCardIndex: 0,\n\t\t\tkeyBroadHeight: 0\n\t\t}\n\t},\n\tmethods: {\n\t\tonBottomModalclosed() {\n\t\t\tthis.isShowModal = false\n\t\t},\n\t\tonReplyShow() {\n\t\t\tthis.isShowReply = false\n\t\t},\n\t\taddImages() {\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: IMAGE_MAX - this.commentAblum.length,\n\t\t\t\tsizeType: ['compressed '],\n\t\t\t\tsourceType: ['album', 'camera'],\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tthis.commentAblum.push(...res.tempFilePaths)\n\t\t\t\t\tconsole.log(this.commentAblum)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tchangeHeight(event) {\n\t\t\tthis.keyBroadHeight = event.detail.height\n\t\t},\n\t\tresetKeyboradHeight() {\n\t\t\tthis.keyBroadHeight = 0\n\t\t},\n\t\toperateImages(currentImages) {\n\t\t\tthis.currentImages = currentImages\n\t\t\tthis.isOperateImagesShow = true\n\t\t},\n\t\tdeleteCommentImages() {\n\t\t\tthis.commentAblum.splice(this.currentImages, 1)\n\t\t\tthis.cancel()\n\t\t},\n\t\tpreviewCommentImages() {\n\t\t\tuni.previewImage({\n\t\t\t\tcurrent: this.currentImages,\n\t\t\t\turls: this.commentAblum\n\t\t\t})\n\t\t\tthis.cancel()\n\t\t},\n\t\tcancel() {\n\t\t\tthis.isOperateImagesShow = false\n\t\t},\n\t\tasync release() {\n\t\t\tif(this.lock){\n\t\t\t\tthis.lock = false\n\t\t\t\tlet userInfo = await getUserInfo()\n\t\t\t\tconst commentContent = this.commentContent.trim()\n\t\t\t\tif(commentContent === '') {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\ttitle: '评论内容不能为空'\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '发表中',\n\t\t\t\t\tmask: true\n\t\t\t\t})\n\t\t\t\tlet commentAblum = []\n\t\t\t\tif(this.commentAblum.length > 0) {\n\t\t\t\t\tcommentAblum = await write2cloudStroge('newThings/', this.commentAblum)\n\t\t\t\t}\n\t\t\t\tconst newThingsId = this.newThingsDetail._id\n\t\t\t\tconst commentInfo = {\n\t\t\t\t\tnickName: userInfo.nickName,\n\t\t\t\t\tavatarUrl: userInfo.avatarUrl,\n\t\t\t\t\tcommentAblum,\n\t\t\t\t\tcommentContent,\n\t\t\t\t\tnewThingsId,\n\t\t\t\t\tcreatedTime: db.serverDate(),\n\t\t\t\t\tfavNum: 0,\n\t\t\t\t\treply: 0\n\t\t\t\t}\n\t\t\t\tnewThingsComment.add({\n\t\t\t\t\tdata: {\n\t\t\t\t\t\t...commentInfo\n\t\t\t\t\t}\n\t\t\t\t}).then(res=> {\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tthis.isShowModal = false\n\t\t\t\t\tthis.commentAblum = []\n\t\t\t\t\tthis.commentContent = ''\n\t\t\t\t\tthis.lock = true\n\t\t\t\t\tthis.$refs.commentList.getComment()\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\ttitle: '评论成功'\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tclickFakeInput() {\n\t\t\tif(this.isLogin){\n\t\t\t\tthis.isShowModal = !this.isShowModal\n\t\t\t\treturn \n\t\t\t}\n\t\t\tuni.showModal({\n\t\t\t\tcancelText: '取消',\n\t\t\t\tconfirmText: '去认证',\n\t\t\t\ttitle: '发表评论需要实名认证',\n\t\t\t\tcontent: '是否前往实名认证',\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tif(res.confirm) {\n\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\turl: '../identify/identify'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tonReply(upLoad) {\n\t\t\tthis.newThingsCommentId = upLoad.upLoad\n\t\t\tthis.commentCardIndex = upLoad.commentCardIndex\n\t\t\tthis.isShowReply = true\n\t\t},\n\t\tasync reply() {\n\t\t\tconsole.log(this.commentCardIndex)\n\t\t\tif(this.isLogin) {\n\t\t\t\tlet userInfo = await getUserInfo()\n\t\t\t\tconst replyContent = this.replyContent.trim()\n\t\t\t\tif(replyContent === '') {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\ttitle: '回复内容不能为空'\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '发表中',\n\t\t\t\t\tmask: true\n\t\t\t\t})\n\t\t\t\tconst newThingsCommentId = this.newThingsCommentId\n\t\t\t\tconst replyInfo = {\n\t\t\t\t\tnickName: userInfo.nickName,\n\t\t\t\t\tavatarUrl: userInfo.avatarUrl,\n\t\t\t\t\treplyContent,\n\t\t\t\t\tnewThingsCommentId,\n\t\t\t\t\tcreatedTime: db.serverDate()\n\t\t\t\t}\n\t\t\t\treply.add({\n\t\t\t\t\tdata: {\n\t\t\t\t\t\t...replyInfo\n\t\t\t\t\t}\n\t\t\t\t}).then(res=> {\n\t\t\t\t\tthis.$refs.commentList.notify(this.commentCardIndex)\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tthis.replyContent = ''\n\t\t\t\t\tthis.isShowReply = false\n\t\t\t\t\tthis.lock = true\n\t\t\t\t\tconsole.log(newThingsCommentId)\n\t\t\t\t\twx.cloud.callFunction({\n\t\t\t\t\t\tname: 'newThings',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t$url: 'updateReplyNum',\n\t\t\t\t\t\t\tdocid: newThingsCommentId,\n\t\t\t\t\t\t\tnum: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}).then(res=>console.log(res))\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\ttitle: '回复成功'\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t}else {//询问未实名用户需跳转到实名认证页面\n\t\t\t\tuni.showModal({\n\t\t\t\t\tcancelText: '取消',\n\t\t\t\t\tconfirmText: '去认证',\n\t\t\t\t\ttitle: '回复评论需要实名认证',\n\t\t\t\t\tcontent: '是否前往实名认证',\n\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\tif(res.confirm) {\n\t\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\t\turl: '../identify/identify'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t},\n\tasync onLoad(options) {\n\t\tconst newThingsDoc = options.newThingsDoc\n\t\tnewThings.doc(newThingsDoc).get().then(res => {\n\t\t\tthis.newThingsDetail = res.data\n\t\t})\n\t},\n\tonShow() {\n\t\tthis.isLogin = this.$store.getters.isLogin\n\t\tthis.lock = true\n\t\t//从认证页面跳转回来之前应该向vuexcommit登录信息\n\t},\n\tcomputed: {\n\t\thasCommentImagesHeight() {\n\t\t\treturn this.commentAblum.length === 0 ? 450 : 540\n\t\t}\n\t}\n}\n","import mod from \"-!../../../../../Downloads/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Downloads/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../Downloads/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../Downloads/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Downloads/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Downloads/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./newThingsDetail.vue?vue&type=style&index=0&id=40bc8287&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Downloads/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../Downloads/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../Downloads/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Downloads/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Downloads/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./newThingsDetail.vue?vue&type=style&index=0&id=40bc8287&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}